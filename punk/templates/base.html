<!-- /templates/base.html -->

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>niktoonion</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    {% if request.endpoint != 'room' and request.endpoint != 'direct_message' %}
    <nav class="main-nav">
        <div class="nav-container">
            <a href="{{ url_for('home') }}" class="nav-brand">NIKTOONION</a>
            <div class="nav-links">
                <a href="{{ url_for('home') }}" class="nav-link">üè† –ì–ª–∞–≤–Ω–∞—è</a>
                <a href="{{ url_for('notifications_page') }}" class="nav-link">üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</a>
                <a href="{{ url_for('profile') }}" class="nav-link">üë§ –ü—Ä–æ—Ñ–∏–ª—å</a>
            </div>
        </div>
    </nav>
    {% endif %}
    
    {% block content %}{% endblock %}
    
    <!-- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è JavaScript -->
    <script>
        const defaultAvatar = '{{ default_avatar }}';
        const currentUserId = '{{ session.get("user_id", "") }}';
    </script>
    
    {% if request.endpoint == 'home' %}
        <script src="{{ url_for('static', filename='home.js') }}"></script>
    {% elif request.endpoint == 'room' or request.endpoint == 'direct_message' %}
        <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
        <script src="{{ url_for('static', filename='room.js') }}"></script>
    {% elif request.endpoint in ['auth_required', 'verify_code', 'login'] %}
        <script src="{{ url_for('static', filename='auth.js') }}"></script>
    {% elif request.endpoint == 'notifications_page' %}
        <script src="{{ url_for('static', filename='notifications.js') }}"></script>
    {% endif %}
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Cropper.js –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–æ–∫ -->
    {% if request.endpoint == 'profile' %}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
        <script src="{{ url_for('static', filename='avatar_editor.js') }}"></script>
    {% endif %}
</body>
</html>